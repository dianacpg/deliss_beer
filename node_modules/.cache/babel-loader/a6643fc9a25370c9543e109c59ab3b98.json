{"ast":null,"code":"import _toConsumableArray from\"/Users/lorennav/Documents/Diana/Web Apps Diana/Deliss/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/lorennav/Documents/Diana/Web Apps Diana/Deliss/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useParams}from\"react-router\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import\"../styles/FavoriteRecipes.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserFavorites=function UserFavorites(){var _useParams=useParams(),id=_useParams.id;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),favrecipes=_useState2[0],setFavRecipes=_useState2[1];useEffect(function(){axios.get(\"http://localhost:3000/favorites/\".concat(id)).then(function(res){setFavRecipes(res.data);console.log(favrecipes);});},[]);var deleteRecipe=function deleteRecipe(recipe_id){axios.delete(\"http://localhost:3000/favorites/\".concat(recipe_id)).then(function(res){var removedArr=_toConsumableArray(favrecipes).filter(function(recipe){return recipe.recipe_id!==recipe_id;});setFavRecipes(removedArr);});};var FavRecipesList=favrecipes.map(function(recipe){return/*#__PURE__*/_jsxs(\"div\",{id:\"favcard\",children:[\" \",/*#__PURE__*/_jsx(\"button\",{id:\"btn_small\",onClick:function onClick(){deleteRecipe(recipe.recipe_id);},children:\"X\"}),\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"slide1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:/*#__PURE__*/_jsx(\"img\",{src:recipe.recipe_image,alt:\"recipe_image\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"slide2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[recipe.recipe_name,\" \"]}),/*#__PURE__*/_jsx(\"a\",{href:recipe.recipe_url,target:\"_blank noreferrer\",children:/*#__PURE__*/_jsx(\"button\",{id:\"btn_home\",type:\"button\",children:\"Recipe\"})})]})})]})]});});return/*#__PURE__*/_jsxs(\"div\",{className:\"favorites\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"favoritelist\",children:FavRecipesList}),\";\"]});};export default UserFavorites;","map":{"version":3,"sources":["/Users/lorennav/Documents/Diana/Web Apps Diana/Deliss/src/components/UserFavorites.js"],"names":["useParams","React","useState","useEffect","axios","UserFavorites","id","favrecipes","setFavRecipes","get","then","res","data","console","log","deleteRecipe","recipe_id","delete","removedArr","filter","recipe","FavRecipesList","map","recipe_image","recipe_name","recipe_url"],"mappings":"gWAAA,OAASA,SAAT,KAA0B,cAA1B,CACA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,+BAAP,C,wFAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,gBACXL,SAAS,EADE,CAClBM,EADkB,YAClBA,EADkB,eAEUJ,QAAQ,CAAC,EAAD,CAFlB,wCAEnBK,UAFmB,eAEPC,aAFO,eAI1BL,SAAS,CAAC,UAAM,CACdC,KAAK,CAACK,GAAN,2CAA6CH,EAA7C,GAAmDI,IAAnD,CAAwD,SAACC,GAAD,CAAS,CAC/DH,aAAa,CAACG,GAAG,CAACC,IAAL,CAAb,CACAC,OAAO,CAACC,GAAR,CAAYP,UAAZ,EACD,CAHD,EAID,CALQ,CAKN,EALM,CAAT,CAOA,GAAMQ,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,SAAD,CAAe,CAClCZ,KAAK,CAACa,MAAN,2CAAgDD,SAAhD,GAA6DN,IAA7D,CAAkE,SAACC,GAAD,CAAS,CACzE,GAAMO,CAAAA,UAAU,CAAG,mBAAIX,UAAJ,EAAgBY,MAAhB,CACjB,SAACC,MAAD,QAAYA,CAAAA,MAAM,CAACJ,SAAP,GAAqBA,SAAjC,EADiB,CAAnB,CAGAR,aAAa,CAACU,UAAD,CAAb,CACD,CALD,EAMD,CAPD,CASA,GAAMG,CAAAA,cAAc,CAAGd,UAAU,CAACe,GAAX,CAAe,SAACF,MAAD,CAAY,CAChD,mBACE,aAAK,EAAE,CAAC,SAAR,WACG,GADH,cAEE,eACE,EAAE,CAAC,WADL,CAEE,OAAO,CAAE,kBAAM,CACbL,YAAY,CAACK,MAAM,CAACJ,SAAR,CAAZ,CACD,CAJH,eAFF,CASY,GATZ,cAWE,aAAK,SAAS,CAAC,MAAf,wBACE,YAAK,SAAS,CAAC,QAAf,uBACE,YAAK,SAAS,CAAC,SAAf,uBACE,YAAK,GAAG,CAAEI,MAAM,CAACG,YAAjB,CAA+B,GAAG,CAAC,cAAnC,EADF,EADF,EADF,cAME,YAAK,SAAS,CAAC,QAAf,uBACE,aAAK,SAAS,CAAC,SAAf,wBACE,sBAAKH,MAAM,CAACI,WAAZ,OADF,cAEE,UAAG,IAAI,CAAEJ,MAAM,CAACK,UAAhB,CAA4B,MAAM,CAAC,mBAAnC,uBACE,eAAQ,EAAE,CAAC,UAAX,CAAsB,IAAI,CAAC,QAA3B,oBADF,EAFF,GADF,EANF,GAXF,GADF,CA+BD,CAhCsB,CAAvB,CAkCA,mBACE,aAAK,SAAS,CAAC,WAAf,wBACE,YAAK,SAAS,CAAC,cAAf,UAA+BJ,cAA/B,EADF,OADF,CAKD,CA3DD,CA6DA,cAAehB,CAAAA,aAAf","sourcesContent":["import { useParams } from \"react-router\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport \"../styles/FavoriteRecipes.css\";\n\nconst UserFavorites = () => {\n  const { id } = useParams();\n  const [favrecipes, setFavRecipes] = useState([]);\n\n  useEffect(() => {\n    axios.get(`http://localhost:3000/favorites/${id}`).then((res) => {\n      setFavRecipes(res.data);\n      console.log(favrecipes);\n    });\n  }, []);\n\n  const deleteRecipe = (recipe_id) => {\n    axios.delete(`http://localhost:3000/favorites/${recipe_id}`).then((res) => {\n      const removedArr = [...favrecipes].filter(\n        (recipe) => recipe.recipe_id !== recipe_id\n      );\n      setFavRecipes(removedArr);\n    });\n  };\n\n  const FavRecipesList = favrecipes.map((recipe) => {\n    return (\n      <div id=\"favcard\">\n        {\" \"}\n        <button\n          id=\"btn_small\"\n          onClick={() => {\n            deleteRecipe(recipe.recipe_id);\n          }}\n        >\n          X\n        </button>{\" \"}\n        {/* pass the id param to the delete recipe by recipe_id*/}\n        <div className=\"card\">\n          <div className=\"slide1\">\n            <div className=\"content\">\n              <img src={recipe.recipe_image} alt=\"recipe_image\" />\n            </div>\n          </div>\n          <div className=\"slide2\">\n            <div className=\"content\">\n              <h3>{recipe.recipe_name} </h3>\n              <a href={recipe.recipe_url} target=\"_blank noreferrer\">\n                <button id=\"btn_home\" type=\"button\">\n                  Recipe\n                </button>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  });\n\n  return (\n    <div className=\"favorites\">\n      <div className=\"favoritelist\">{FavRecipesList}</div>;\n    </div>\n  );\n};\n\nexport default UserFavorites;\n"]},"metadata":{},"sourceType":"module"}