{"ast":null,"code":"import _slicedToArray from\"/Users/lorennav/Documents/Diana/Web Apps Diana/Deliss/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SigninForm=function SigninForm(_ref){var onRouteChange=_ref.onRouteChange,updateLoadUser=_ref.updateLoadUser;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),signInEmail=_useState2[0],setSignInEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),signInPassword=_useState4[0],setSigninPassword=_useState4[1];//to change the state to what the user writes in the signin form\nvar onEmailChange=function onEmailChange(event){setSignInEmail(event.target.value);};var onPasswordChange=function onPasswordChange(event){setSigninPassword(event.target.value);};//When submit, we will connect to the server to post the email and password\nvar onSubmitSignIn=function onSubmitSignIn(e){e.preventDefault();//prevent the default submit event. Don't forget to put also on e param on the onSubmitSignIn - SigninForm\nfetch(\"http://localhost:3000/signin\",{method:\"post\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:signInEmail,password:signInPassword})}).then(function(response){return response.json();}).then(function(user){//after we post, if it matches with the email and password database, the response from the server will be user details. So if we receive an id that means it was the post === database\nif(user.id){updateLoadUser(user);//to update user details\nonRouteChange(\"mealplanner\");// to change state from signin to mealplanner and show the mealplan\n}});};return/*#__PURE__*/_jsx(\"article\",{className:\"br3 ba dark-gray b--black-10 mv4 w-100 w-50-m w-25-l mw5 shadow-5 center \",children:/*#__PURE__*/_jsx(\"main\",{className:\"pa4\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"measure\",children:[/*#__PURE__*/_jsxs(\"fieldset\",{id:\"sign_up\",className:\"ba b--transparent ph0 mh0\",children:[/*#__PURE__*/_jsx(\"legend\",{className:\"f4 fw6 ph0 mh0\",style:{color:\" #2a9d8f\"},children:\"Sign In\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"db fw6 lh-copy f6\",for:\"email-address\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{className:\"pa2 input-reset ba bg-transparent w-100\",type:\"email\",name:\"email-address\",id:\"email-address\",onChange:onEmailChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mv3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"db fw6 lh-copy f6\",for:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{className:\" pa2 input-reset ba bg-transparent w-100\",type:\"password\",name:\"password\",id:\"password\",onChange:onPasswordChange})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(\"input\",{// when submit Signin it will change the state from signin to mealplanner so that the mealplanner in order to access the mealplan\nonClick:function onClick(e){return onSubmitSignIn(e);},className:\"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib\",type:\"submit\",value:\"Sign in\",style:{color:\" #2a9d8f\"}})}),/*#__PURE__*/_jsx(\"div\",{className:\"lh-copy mt3\",children:/*#__PURE__*/_jsx(\"p\",{// when submit Signin it will change to register to show the registerForm\nonClick:function onClick(){return onRouteChange(\"register\");},className:\"f6 link dim black db pointer\",style:{color:\" #2a9d8f\"},children:\"Register\"})})]})})});};export default SigninForm;","map":{"version":3,"sources":["/Users/lorennav/Documents/Diana/Web Apps Diana/Deliss/src/components/SigninForm.js"],"names":["React","useState","SigninForm","onRouteChange","updateLoadUser","signInEmail","setSignInEmail","signInPassword","setSigninPassword","onEmailChange","event","target","value","onPasswordChange","onSubmitSignIn","e","preventDefault","fetch","method","headers","body","JSON","stringify","email","password","then","response","json","user","id","color"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\n\nconst SigninForm = ({ onRouteChange, updateLoadUser }) => {\n  const [signInEmail, setSignInEmail] = useState(\"\");\n  const [signInPassword, setSigninPassword] = useState(\"\");\n\n  //to change the state to what the user writes in the signin form\n  const onEmailChange = (event) => {\n    setSignInEmail(event.target.value);\n  };\n\n  const onPasswordChange = (event) => {\n    setSigninPassword(event.target.value);\n  };\n\n  //When submit, we will connect to the server to post the email and password\n  const onSubmitSignIn = (e) => {\n    e.preventDefault(); //prevent the default submit event. Don't forget to put also on e param on the onSubmitSignIn - SigninForm\n    fetch(\"http://localhost:3000/signin\", {\n      method: \"post\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        email: signInEmail,\n        password: signInPassword,\n      }),\n    })\n      .then((response) => response.json())\n      .then((user) => {\n        //after we post, if it matches with the email and password database, the response from the server will be user details. So if we receive an id that means it was the post === database\n        if (user.id) {\n          updateLoadUser(user); //to update user details\n          onRouteChange(\"mealplanner\"); // to change state from signin to mealplanner and show the mealplan\n        }\n      });\n  };\n\n  return (\n    <article className=\"br3 ba dark-gray b--black-10 mv4 w-100 w-50-m w-25-l mw5 shadow-5 center \">\n      <main className=\"pa4\">\n        <form className=\"measure\">\n          <fieldset id=\"sign_up\" className=\"ba b--transparent ph0 mh0\">\n            <legend className=\"f4 fw6 ph0 mh0\" style={{ color: \" #2a9d8f\" }}>\n              Sign In\n            </legend>\n            <div className=\"mt3\">\n              <label className=\"db fw6 lh-copy f6\" for=\"email-address\">\n                Email\n              </label>\n              <input\n                className=\"pa2 input-reset ba bg-transparent w-100\"\n                type=\"email\"\n                name=\"email-address\"\n                id=\"email-address\"\n                onChange={onEmailChange}\n              />\n            </div>\n            <div className=\"mv3\">\n              <label className=\"db fw6 lh-copy f6\" for=\"password\">\n                Password\n              </label>\n              <input\n                className=\" pa2 input-reset ba bg-transparent w-100\"\n                type=\"password\"\n                name=\"password\"\n                id=\"password\"\n                onChange={onPasswordChange}\n              />\n            </div>\n          </fieldset>\n          <div className=\"\">\n            <input // when submit Signin it will change the state from signin to mealplanner so that the mealplanner in order to access the mealplan\n              onClick={(e) => onSubmitSignIn(e)}\n              className=\"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib\"\n              type=\"submit\"\n              value=\"Sign in\"\n              style={{ color: \" #2a9d8f\" }}\n            />\n          </div>\n          <div className=\"lh-copy mt3\">\n            <p // when submit Signin it will change to register to show the registerForm\n              onClick={() => onRouteChange(\"register\")}\n              className=\"f6 link dim black db pointer\"\n              style={{ color: \" #2a9d8f\" }}\n            >\n              Register\n            </p>\n          </div>\n        </form>\n      </main>\n    </article>\n  );\n};\n\nexport default SigninForm;\n"]},"metadata":{},"sourceType":"module"}