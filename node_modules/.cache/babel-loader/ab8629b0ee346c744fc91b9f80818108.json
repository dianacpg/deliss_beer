{"ast":null,"code":"var _jsxFileName = \"/Users/lorennav/Documents/Diana/Web Apps Diana/FoodyMealplanner_TechLabs/src/pages/Signin.js\",\n    _s = $RefreshSig$();\n\nimport SigninForm from \"../components/SigninForm\";\nimport RegisterForm from \"../components/RegisterForm\";\nimport MealPlanner from \"./MealPlanner\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Signin = () => {\n  _s();\n\n  const [route, setRoute] = useState(\"signin\"); // The authentification will be determine by the route state. Signin means that the user has to sign in.\n\n  const [signInEmail, setSignInEmail] = useState(\"\");\n  const [signInPassword, setSigninPassword] = useState(\"\"); //to change the state to what the user writes in the signin form\n\n  const onEmailChange = event => {\n    setSignInEmail(event.target.value);\n  };\n\n  const onPasswordChange = event => {\n    setSigninPassword(event.target.value);\n  };\n\n  const onRouteChange = route => {\n    setRoute(route);\n  }; //When submit we will connect to the server with fetch and post the email and password\n\n\n  const onSubmitSignIn = () => {\n    fetch(\"http://localhost:3000/signin\", {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email: signInEmail,\n        password: signInPassword\n      })\n    }).then(response => response.json).then(data => {\n      if (data === \"success\") {\n        setRoute(\"home\");\n      } else {\n        console.log(\"not match\");\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: route === \"home\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        onClick: () => onRouteChange(\"signin\"),\n        children: \"Signout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(MealPlanner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this) : route === \"signin\" ?\n    /*#__PURE__*/\n    // If the route state is \"signin\" it will show only the sign in form. If the route is not signin, that means the user is logged so the mealplanner will be shown\n    _jsxDEV(SigninForm, {\n      onSubmitSignIn: onSubmitSignIn,\n      onEmailChange: onEmailChange,\n      onPasswordChange: onPasswordChange,\n      onRouteChange: onRouteChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(RegisterForm, {\n      onRouteChange: onRouteChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Signin, \"ZQgCM4UuYJBVg/m3R7mzDkAfOug=\");\n\n_c = Signin;\nexport default Signin;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signin\");","map":{"version":3,"sources":["/Users/lorennav/Documents/Diana/Web Apps Diana/FoodyMealplanner_TechLabs/src/pages/Signin.js"],"names":["SigninForm","RegisterForm","MealPlanner","React","useState","useEffect","axios","Signin","route","setRoute","signInEmail","setSignInEmail","signInPassword","setSigninPassword","onEmailChange","event","target","value","onPasswordChange","onRouteChange","onSubmitSignIn","fetch","method","headers","body","JSON","stringify","email","password","then","response","json","data","console","log"],"mappings":";;;AAAA,OAAOA,UAAP,MAAuB,0BAAvB;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,MAAM,GAAG,MAAM;AAAA;;AACnB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBL,QAAQ,CAAC,QAAD,CAAlC,CADmB,CAC2B;;AAC9C,QAAM,CAACM,WAAD,EAAcC,cAAd,IAAgCP,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAACQ,cAAD,EAAiBC,iBAAjB,IAAsCT,QAAQ,CAAC,EAAD,CAApD,CAHmB,CAKnB;;AACA,QAAMU,aAAa,GAAIC,KAAD,IAAW;AAC/BJ,IAAAA,cAAc,CAACI,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAd;AACD,GAFD;;AAIA,QAAMC,gBAAgB,GAAIH,KAAD,IAAW;AAClCF,IAAAA,iBAAiB,CAACE,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAjB;AACD,GAFD;;AAIA,QAAME,aAAa,GAAIX,KAAD,IAAW;AAC/BC,IAAAA,QAAQ,CAACD,KAAD,CAAR;AACD,GAFD,CAdmB,CAkBnB;;;AACA,QAAMY,cAAc,GAAG,MAAM;AAC3BC,IAAAA,KAAK,CAAC,8BAAD,EAAiC;AACpCC,MAAAA,MAAM,EAAE,MAD4B;AAEpCC,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB,OAF2B;AAGpCC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,QAAAA,KAAK,EAAEjB,WADY;AAEnBkB,QAAAA,QAAQ,EAAEhB;AAFS,OAAf;AAH8B,KAAjC,CAAL,CAQGiB,IARH,CAQSC,QAAD,IAAcA,QAAQ,CAACC,IAR/B,EASGF,IATH,CASSG,IAAD,IAAU;AACd,UAAIA,IAAI,KAAK,SAAb,EAAwB;AACtBvB,QAAAA,QAAQ,CAAC,MAAD,CAAR;AACD,OAFD,MAEO;AACLwB,QAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACD;AACF,KAfH;AAgBD,GAjBD;;AAmBA,sBACE;AAAA,cACG1B,KAAK,KAAK,MAAV,gBACC;AAAA,8BAEE;AAAG,QAAA,OAAO,EAAE,MAAMW,aAAa,CAAC,QAAD,CAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,eAIE,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,GAOGX,KAAK,KAAK,QAAV;AAAA;AAAuB;AACzB,YAAC,UAAD;AACE,MAAA,cAAc,EAAEY,cADlB;AAEE,MAAA,aAAa,EAAEN,aAFjB;AAGE,MAAA,gBAAgB,EAAEI,gBAHpB;AAIE,MAAA,aAAa,EAAEC;AAJjB;AAAA;AAAA;AAAA;AAAA,YADE,gBAQF,QAAC,YAAD;AAAc,MAAA,aAAa,EAAEA;AAA7B;AAAA;AAAA;AAAA;AAAA;AAhBJ;AAAA;AAAA;AAAA;AAAA,UADF;AAqBD,CA3DD;;GAAMZ,M;;KAAAA,M;AA6DN,eAAeA,MAAf","sourcesContent":["import SigninForm from \"../components/SigninForm\";\nimport RegisterForm from \"../components/RegisterForm\";\nimport MealPlanner from \"./MealPlanner\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nconst Signin = () => {\n  const [route, setRoute] = useState(\"signin\"); // The authentification will be determine by the route state. Signin means that the user has to sign in.\n  const [signInEmail, setSignInEmail] = useState(\"\");\n  const [signInPassword, setSigninPassword] = useState(\"\");\n\n  //to change the state to what the user writes in the signin form\n  const onEmailChange = (event) => {\n    setSignInEmail(event.target.value);\n  };\n\n  const onPasswordChange = (event) => {\n    setSigninPassword(event.target.value);\n  };\n\n  const onRouteChange = (route) => {\n    setRoute(route);\n  };\n\n  //When submit we will connect to the server with fetch and post the email and password\n  const onSubmitSignIn = () => {\n    fetch(\"http://localhost:3000/signin\", {\n      method: \"post\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        email: signInEmail,\n        password: signInPassword,\n      }),\n    })\n      .then((response) => response.json)\n      .then((data) => {\n        if (data === \"success\") {\n          setRoute(\"home\");\n        } else {\n          console.log(\"not match\");\n        }\n      });\n  };\n\n  return (\n    <div>\n      {route === \"home\" ? (\n        <div>\n          {/* Added a signout option that will change the state to sigin. This means that mealplanner will not be shown */}\n          <p onClick={() => onRouteChange(\"signin\")}>Signout</p>\n\n          <MealPlanner />\n        </div>\n      ) : route === \"signin\" ? ( // If the route state is \"signin\" it will show only the sign in form. If the route is not signin, that means the user is logged so the mealplanner will be shown\n        <SigninForm\n          onSubmitSignIn={onSubmitSignIn}\n          onEmailChange={onEmailChange}\n          onPasswordChange={onPasswordChange}\n          onRouteChange={onRouteChange}\n        />\n      ) : (\n        <RegisterForm onRouteChange={onRouteChange} />\n      )}\n    </div>\n  );\n};\n\nexport default Signin;\n"]},"metadata":{},"sourceType":"module"}