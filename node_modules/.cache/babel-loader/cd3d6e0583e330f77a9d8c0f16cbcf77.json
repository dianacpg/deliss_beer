{"ast":null,"code":"import _toConsumableArray from\"/Users/lorennav/Documents/Diana/Web Apps Diana/DelissBeer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/lorennav/Documents/Diana/Web Apps Diana/DelissBeer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useParams}from\"react-router\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import\"../styles/FavoriteRecipes.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserFavorites=function UserFavorites(){var _useParams=useParams(),id=_useParams.id;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),favbeers=_useState2[0],setFavBeers=_useState2[1];useEffect(function(){axios.get(\"https://guarded-peak-18752.herokuapp.com/favorites/\".concat(id)).then(function(res){setFavBeers(res.data);});},[id]);var deleteBeer=function deleteBeer(beer_id){axios.delete(\"https://guarded-peak-18752.herokuapp.com/favorites/\".concat(beer_id)).then(function(res){var removedArr=_toConsumableArray(favbeers).filter(function(beer){return beer.beer_id!==beer_id;});setFavBeers(removedArr);});};var FavBeerList=favbeers.map(function(beer){return/*#__PURE__*/_jsxs(\"div\",{id:\"favcard\",children:[\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[\" \",/*#__PURE__*/_jsx(\"button\",{id:\"btn_small\",onClick:function onClick(){deleteBeer(beer.beer_id);},children:\"X\"}),\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"img\",{src:beer.beer_image,alt:\"recipe_image\"}),/*#__PURE__*/_jsxs(\"h3\",{children:[beer.beer_name,\" \"]}),/*#__PURE__*/_jsx(\"p\",{children:beer.beer_description})]})]})]},beer.beer_id);});return/*#__PURE__*/_jsxs(\"div\",{className:\"favorites\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"favoritelist\",children:FavBeerList}),\";\"]});};export default UserFavorites;","map":{"version":3,"sources":["/Users/lorennav/Documents/Diana/Web Apps Diana/DelissBeer/src/components/UserFavorites.js"],"names":["useParams","React","useState","useEffect","axios","UserFavorites","id","favbeers","setFavBeers","get","then","res","data","deleteBeer","beer_id","delete","removedArr","filter","beer","FavBeerList","map","beer_image","beer_name","beer_description"],"mappings":"wWAAA,OAASA,SAAT,KAA0B,cAA1B,CACA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,+BAAP,C,wFAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,gBACXL,SAAS,EADE,CAClBM,EADkB,YAClBA,EADkB,eAEMJ,QAAQ,CAAC,EAAD,CAFd,wCAEnBK,QAFmB,eAETC,WAFS,eAI1BL,SAAS,CAAC,UAAM,CACdC,KAAK,CACFK,GADH,8DAC6DH,EAD7D,GAEGI,IAFH,CAEQ,SAACC,GAAD,CAAS,CACbH,WAAW,CAACG,GAAG,CAACC,IAAL,CAAX,CACD,CAJH,EAKD,CANQ,CAMN,CAACN,EAAD,CANM,CAAT,CAQA,GAAMO,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,OAAD,CAAa,CAC9BV,KAAK,CACFW,MADH,8DACgED,OADhE,GAEGJ,IAFH,CAEQ,SAACC,GAAD,CAAS,CACb,GAAMK,CAAAA,UAAU,CAAG,mBAAIT,QAAJ,EAAcU,MAAd,CACjB,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACJ,OAAL,GAAiBA,OAA3B,EADiB,CAAnB,CAGAN,WAAW,CAACQ,UAAD,CAAX,CACD,CAPH,EAQD,CATD,CAWA,GAAMG,CAAAA,WAAW,CAAGZ,QAAQ,CAACa,GAAT,CAAa,SAACF,IAAD,CAAU,CACzC,mBACE,aAAK,EAAE,CAAC,SAAR,WACG,GADH,cAGE,aAAK,SAAS,CAAC,MAAf,WACG,GADH,cAEE,eACE,EAAE,CAAC,WADL,CAEE,OAAO,CAAE,kBAAM,CACbL,UAAU,CAACK,IAAI,CAACJ,OAAN,CAAV,CACD,CAJH,eAFF,CASY,GATZ,cAUE,aAAK,SAAS,CAAC,SAAf,wBACE,YAAK,GAAG,CAAEI,IAAI,CAACG,UAAf,CAA2B,GAAG,CAAC,cAA/B,EADF,cAEE,sBAAKH,IAAI,CAACI,SAAV,OAFF,cAGE,mBAAIJ,IAAI,CAACK,gBAAT,EAHF,GAVF,GAHF,GAAuBL,IAAI,CAACJ,OAA5B,CADF,CAsBD,CAvBmB,CAApB,CAyBA,mBACE,aAAK,SAAS,CAAC,WAAf,wBACE,YAAK,SAAS,CAAC,cAAf,UAA+BK,WAA/B,EADF,OADF,CAKD,CArDD,CAuDA,cAAed,CAAAA,aAAf","sourcesContent":["import { useParams } from \"react-router\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport \"../styles/FavoriteRecipes.css\";\n\nconst UserFavorites = () => {\n  const { id } = useParams();\n  const [favbeers, setFavBeers] = useState([]);\n\n  useEffect(() => {\n    axios\n      .get(`https://guarded-peak-18752.herokuapp.com/favorites/${id}`)\n      .then((res) => {\n        setFavBeers(res.data);\n      });\n  }, [id]);\n\n  const deleteBeer = (beer_id) => {\n    axios\n      .delete(`https://guarded-peak-18752.herokuapp.com/favorites/${beer_id}`)\n      .then((res) => {\n        const removedArr = [...favbeers].filter(\n          (beer) => beer.beer_id !== beer_id\n        );\n        setFavBeers(removedArr);\n      });\n  };\n\n  const FavBeerList = favbeers.map((beer) => {\n    return (\n      <div id=\"favcard\" key={beer.beer_id}>\n        {\" \"}\n        {/* pass the id param to the delete recipe by beer_id*/}\n        <div className=\"card\">\n          {\" \"}\n          <button\n            id=\"btn_small\"\n            onClick={() => {\n              deleteBeer(beer.beer_id);\n            }}\n          >\n            X\n          </button>{\" \"}\n          <div className=\"content\">\n            <img src={beer.beer_image} alt=\"recipe_image\" />\n            <h3>{beer.beer_name} </h3>\n            <p>{beer.beer_description}</p>\n          </div>\n        </div>\n      </div>\n    );\n  });\n\n  return (\n    <div className=\"favorites\">\n      <div className=\"favoritelist\">{FavBeerList}</div>;\n    </div>\n  );\n};\n\nexport default UserFavorites;\n"]},"metadata":{},"sourceType":"module"}