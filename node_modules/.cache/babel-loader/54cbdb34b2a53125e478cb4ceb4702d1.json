{"ast":null,"code":"import _toConsumableArray from\"/Users/lorennav/Documents/Diana/Web Apps Diana/Deliss/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/lorennav/Documents/Diana/Web Apps Diana/Deliss/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useParams}from\"react-router\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import\"../styles/FavoriteRecipes.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FavoriteRecipes=function FavoriteRecipes(){var _useParams=useParams(),id=_useParams.id;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),favrecipes=_useState2[0],setFavRecipes=_useState2[1];useEffect(function(){axios.get(\"https://guarded-peak-18752.herokuapp.com/favorites/\".concat(id)).then(function(res){setFavRecipes(res.data);console.log(favrecipes);});},[]);var deleteRecipe=function deleteRecipe(recipe_id){axios.delete(\"https://guarded-peak-18752.herokuapp.com/favorites/\".concat(recipe_id)).then(function(res){var removedArr=_toConsumableArray(favrecipes).filter(function(recipe){return recipe.recipe_id!==recipe_id;});setFavRecipes(removedArr);});};var FavRecipesList=favrecipes.map(function(recipe,i){return/*#__PURE__*/_jsxs(\"div\",{id:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"slide\",children:/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:/*#__PURE__*/_jsx(\"img\",{src:recipe.recipe_image,alt:\"recipe_image\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"slide slide2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:recipe.recipe_name}),/*#__PURE__*/_jsx(\"a\",{href:recipe.recipe_url,target:\"_blank noreferrer\",children:/*#__PURE__*/_jsx(\"button\",{id:\"btn\",type:\"button\",children:\"Recipe\"})}),/*#__PURE__*/_jsx(\"button\",{id:\"btn_small\",onClick:function onClick(){deleteRecipe(recipe.recipe_id);},children:\"Delete\"}),\" \"]})})]});});return/*#__PURE__*/_jsxs(\"div\",{className:\"favorites\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"These are your saved recipes:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"favoritelist\",children:FavRecipesList}),\";\"]});};export default FavoriteRecipes;","map":{"version":3,"sources":["/Users/lorennav/Documents/Diana/Web Apps Diana/Deliss/src/pages/FavoriteRecipes.js"],"names":["useParams","React","useState","useEffect","axios","FavoriteRecipes","id","favrecipes","setFavRecipes","get","then","res","data","console","log","deleteRecipe","recipe_id","delete","removedArr","filter","recipe","FavRecipesList","map","i","recipe_image","recipe_name","recipe_url"],"mappings":"gWAAA,OAASA,SAAT,KAA0B,cAA1B,CACA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,+BAAP,C,wFAEA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,gBACbL,SAAS,EADI,CACpBM,EADoB,YACpBA,EADoB,eAEQJ,QAAQ,CAAC,EAAD,CAFhB,wCAErBK,UAFqB,eAETC,aAFS,eAI5BL,SAAS,CAAC,UAAM,CACdC,KAAK,CACFK,GADH,8DAC6DH,EAD7D,GAEGI,IAFH,CAEQ,SAACC,GAAD,CAAS,CACbH,aAAa,CAACG,GAAG,CAACC,IAAL,CAAb,CACAC,OAAO,CAACC,GAAR,CAAYP,UAAZ,EACD,CALH,EAMD,CAPQ,CAON,EAPM,CAAT,CASA,GAAMQ,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,SAAD,CAAe,CAClCZ,KAAK,CACFa,MADH,8DACgED,SADhE,GAEGN,IAFH,CAEQ,SAACC,GAAD,CAAS,CACb,GAAMO,CAAAA,UAAU,CAAG,mBAAIX,UAAJ,EAAgBY,MAAhB,CACjB,SAACC,MAAD,QAAYA,CAAAA,MAAM,CAACJ,SAAP,GAAqBA,SAAjC,EADiB,CAAnB,CAGAR,aAAa,CAACU,UAAD,CAAb,CACD,CAPH,EAQD,CATD,CAWA,GAAMG,CAAAA,cAAc,CAAGd,UAAU,CAACe,GAAX,CAAe,SAACF,MAAD,CAASG,CAAT,CAAe,CACnD,mBACE,aAAK,EAAE,CAAC,MAAR,wBACE,YAAK,SAAS,CAAC,OAAf,uBACE,YAAK,SAAS,CAAC,SAAf,uBACE,YAAK,GAAG,CAAEH,MAAM,CAACI,YAAjB,CAA+B,GAAG,CAAC,cAAnC,EADF,EADF,EADF,cAME,YAAK,SAAS,CAAC,cAAf,uBACE,aAAK,SAAS,CAAC,SAAf,wBACE,oBAAKJ,MAAM,CAACK,WAAZ,EADF,cAEE,UAAG,IAAI,CAAEL,MAAM,CAACM,UAAhB,CAA4B,MAAM,CAAC,mBAAnC,uBACE,eAAQ,EAAE,CAAC,KAAX,CAAiB,IAAI,CAAC,QAAtB,oBADF,EAFF,cAOE,eACE,EAAE,CAAC,WADL,CAEE,OAAO,CAAE,kBAAM,CACbX,YAAY,CAACK,MAAM,CAACJ,SAAR,CAAZ,CACD,CAJH,oBAPF,CAcY,GAdZ,GADF,EANF,GADF,CA4BD,CA7BsB,CAAvB,CA+BA,mBACE,aAAK,SAAS,CAAC,WAAf,wBACE,qDADF,cAEE,YAAK,SAAS,CAAC,cAAf,UAA+BK,cAA/B,EAFF,OADF,CAMD,CA7DD,CA+DA,cAAehB,CAAAA,eAAf","sourcesContent":["import { useParams } from \"react-router\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport \"../styles/FavoriteRecipes.css\";\n\nconst FavoriteRecipes = () => {\n  const { id } = useParams();\n  const [favrecipes, setFavRecipes] = useState([]);\n\n  useEffect(() => {\n    axios\n      .get(`https://guarded-peak-18752.herokuapp.com/favorites/${id}`)\n      .then((res) => {\n        setFavRecipes(res.data);\n        console.log(favrecipes);\n      });\n  }, []);\n\n  const deleteRecipe = (recipe_id) => {\n    axios\n      .delete(`https://guarded-peak-18752.herokuapp.com/favorites/${recipe_id}`)\n      .then((res) => {\n        const removedArr = [...favrecipes].filter(\n          (recipe) => recipe.recipe_id !== recipe_id\n        );\n        setFavRecipes(removedArr);\n      });\n  };\n\n  const FavRecipesList = favrecipes.map((recipe, i) => {\n    return (\n      <div id=\"card\">\n        <div className=\"slide\">\n          <div className=\"content\">\n            <img src={recipe.recipe_image} alt=\"recipe_image\" />\n          </div>\n        </div>\n        <div className=\"slide slide2\">\n          <div className=\"content\">\n            <h3>{recipe.recipe_name}</h3>\n            <a href={recipe.recipe_url} target=\"_blank noreferrer\">\n              <button id=\"btn\" type=\"button\">\n                Recipe\n              </button>\n            </a>\n            <button\n              id=\"btn_small\"\n              onClick={() => {\n                deleteRecipe(recipe.recipe_id);\n              }}\n            >\n              Delete\n            </button>{\" \"}\n            {/* pass the id param to the delete recipe by recipe_id*/}\n          </div>\n        </div>\n      </div>\n    );\n  });\n\n  return (\n    <div className=\"favorites\">\n      <h2>These are your saved recipes:</h2>\n      <div className=\"favoritelist\">{FavRecipesList}</div>;\n    </div>\n  );\n};\n\nexport default FavoriteRecipes;\n"]},"metadata":{},"sourceType":"module"}