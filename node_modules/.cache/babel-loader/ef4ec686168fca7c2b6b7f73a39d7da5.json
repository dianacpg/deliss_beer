{"ast":null,"code":"import _slicedToArray from\"/Users/lorennav/Documents/Diana/Web Apps Diana/Deliss/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import SigninForm from\"../components/SigninForm\";import RegisterForm from\"../components/RegisterForm\";import MealPlanner from\"../components/MealPlanner\";import\"../styles/SignIn.css\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Signin=function Signin(){var _useState=useState(\"signin\"),_useState2=_slicedToArray(_useState,2),route=_useState2[0],setRoute=_useState2[1];// The authentification will be determine by the route state. Signin means that the user has to sign in.\nvar _useState3=useState({//this is for when to update the profile informations when we register or signin\nid:\"\",name:\"\",email:\"\",favorites:\"\",joined:\"\"}),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],loadUser=_useState4[1];//To Persist state to localstorage. If we have the state store on localstore, change state to that, when refresh page\nuseEffect(function(){var localdata=localStorage.getItem(\"save-status\");if(localdata){loadUser(JSON.parse(localdata));}},[]);//to add the state route into local storage has a string!\nuseEffect(function(){localStorage.setItem(\"save-status\",JSON.stringify(user));});//this will change the route state, that will determine the validation to show mealplan ou not\nvar onRouteChange=function onRouteChange(route){setRoute(route);};var updateLoadUser=function updateLoadUser(data){loadUser({id:data.id,name:data.name,email:data.email,favorites:data.entries,joined:data.joined});};var onSignout=function onSignout(){loadUser({id:\"\",name:\"\",email:\"\",favorites:\"\",joined:\"\"});setRoute(\"signin\");};return/*#__PURE__*/_jsx(\"div\",{children:route===\"mealplanner\"||user.id?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"welcomeboard\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"hello\",children:[\"Hello \",user.name,\"!\"]}),/*#__PURE__*/_jsx(Link,{to:\"/favorites/\".concat(user.id),children:/*#__PURE__*/_jsxs(\"button\",{id:\"btn_home\",type:\"button\",children:[\" \",\"Check your Favorite Recipes!\"]})}),/*#__PURE__*/_jsx(\"p\",{onClick:function onClick(){return onSignout();},children:\"Signout\"})]}),/*#__PURE__*/_jsx(MealPlanner,{user:user.id})]}):route===\"signin\"?/*#__PURE__*/ // If the route state is \"signin\" it will show only the sign in form. If the route is not signin, that means the user is logged so the mealplanner will be shown\n_jsx(SigninForm,{updateLoadUser:updateLoadUser,onRouteChange:onRouteChange}):/*#__PURE__*/_jsx(RegisterForm,{updateLoadUser:updateLoadUser,onRouteChange:onRouteChange})});};export default Signin;","map":{"version":3,"sources":["/Users/lorennav/Documents/Diana/Web Apps Diana/Deliss/src/pages/Signin.js"],"names":["React","useState","useEffect","Link","SigninForm","RegisterForm","MealPlanner","Signin","route","setRoute","id","name","email","favorites","joined","user","loadUser","localdata","localStorage","getItem","JSON","parse","setItem","stringify","onRouteChange","updateLoadUser","data","entries","onSignout"],"mappings":"4KAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAOC,CAAAA,YAAP,KAAyB,4BAAzB,CACA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,CACA,MAAO,sBAAP,C,wFAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,eACON,QAAQ,CAAC,QAAD,CADf,wCACZO,KADY,eACLC,QADK,eAC2B;AAD3B,eAEMR,QAAQ,CAAC,CAChC;AACAS,EAAE,CAAE,EAF4B,CAGhCC,IAAI,CAAE,EAH0B,CAIhCC,KAAK,CAAE,EAJyB,CAKhCC,SAAS,CAAE,EALqB,CAMhCC,MAAM,CAAE,EANwB,CAAD,CAFd,yCAEZC,IAFY,eAENC,QAFM,eAWnB;AACAd,SAAS,CAAC,UAAM,CACd,GAAMe,CAAAA,SAAS,CAAGC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAlB,CACA,GAAIF,SAAJ,CAAe,CACbD,QAAQ,CAACI,IAAI,CAACC,KAAL,CAAWJ,SAAX,CAAD,CAAR,CACD,CACF,CALQ,CAKN,EALM,CAAT,CAOA;AACAf,SAAS,CAAC,UAAM,CACdgB,YAAY,CAACI,OAAb,CAAqB,aAArB,CAAoCF,IAAI,CAACG,SAAL,CAAeR,IAAf,CAApC,EACD,CAFQ,CAAT,CAIA;AACA,GAAMS,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAAChB,KAAD,CAAW,CAC/BC,QAAQ,CAACD,KAAD,CAAR,CACD,CAFD,CAIA,GAAMiB,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,IAAD,CAAU,CAC/BV,QAAQ,CAAC,CACPN,EAAE,CAAEgB,IAAI,CAAChB,EADF,CAEPC,IAAI,CAAEe,IAAI,CAACf,IAFJ,CAGPC,KAAK,CAAEc,IAAI,CAACd,KAHL,CAIPC,SAAS,CAAEa,IAAI,CAACC,OAJT,CAKPb,MAAM,CAAEY,IAAI,CAACZ,MALN,CAAD,CAAR,CAOD,CARD,CAUA,GAAMc,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtBZ,QAAQ,CAAC,CACPN,EAAE,CAAE,EADG,CAEPC,IAAI,CAAE,EAFC,CAGPC,KAAK,CAAE,EAHA,CAIPC,SAAS,CAAE,EAJJ,CAKPC,MAAM,CAAE,EALD,CAAD,CAAR,CAOAL,QAAQ,CAAC,QAAD,CAAR,CACD,CATD,CAWA,mBACE,qBACGD,KAAK,GAAK,aAAV,EAA2BO,IAAI,CAACL,EAAhC,cACC,oCAEE,aAAK,SAAS,CAAC,cAAf,wBACE,WAAG,SAAS,CAAC,OAAb,oBAA4BK,IAAI,CAACJ,IAAjC,OADF,cAGE,KAAC,IAAD,EAAM,EAAE,sBAAgBI,IAAI,CAACL,EAArB,CAAR,uBACE,gBAAQ,EAAE,CAAC,UAAX,CAAsB,IAAI,CAAC,QAA3B,WACG,GADH,kCADF,EAHF,cASE,UAAG,OAAO,CAAE,yBAAMkB,CAAAA,SAAS,EAAf,EAAZ,qBATF,GAFF,cAaE,KAAC,WAAD,EAAa,IAAI,CAAEb,IAAI,CAACL,EAAxB,EAbF,GADD,CAgBGF,KAAK,GAAK,QAAV,eAAuB;AACzB,KAAC,UAAD,EACE,cAAc,CAAEiB,cADlB,CAEE,aAAa,CAAED,aAFjB,EADE,cAMF,KAAC,YAAD,EACE,cAAc,CAAEC,cADlB,CAEE,aAAa,CAAED,aAFjB,EAvBJ,EADF,CA+BD,CAjFD,CAmFA,cAAejB,CAAAA,MAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport SigninForm from \"../components/SigninForm\";\nimport RegisterForm from \"../components/RegisterForm\";\nimport MealPlanner from \"../components/MealPlanner\";\nimport \"../styles/SignIn.css\";\n\nconst Signin = () => {\n  const [route, setRoute] = useState(\"signin\"); // The authentification will be determine by the route state. Signin means that the user has to sign in.\n  const [user, loadUser] = useState({\n    //this is for when to update the profile informations when we register or signin\n    id: \"\",\n    name: \"\",\n    email: \"\",\n    favorites: \"\",\n    joined: \"\",\n  });\n\n  //To Persist state to localstorage. If we have the state store on localstore, change state to that, when refresh page\n  useEffect(() => {\n    const localdata = localStorage.getItem(\"save-status\");\n    if (localdata) {\n      loadUser(JSON.parse(localdata));\n    }\n  }, []);\n\n  //to add the state route into local storage has a string!\n  useEffect(() => {\n    localStorage.setItem(\"save-status\", JSON.stringify(user));\n  });\n\n  //this will change the route state, that will determine the validation to show mealplan ou not\n  const onRouteChange = (route) => {\n    setRoute(route);\n  };\n\n  const updateLoadUser = (data) => {\n    loadUser({\n      id: data.id,\n      name: data.name,\n      email: data.email,\n      favorites: data.entries,\n      joined: data.joined,\n    });\n  };\n\n  const onSignout = () => {\n    loadUser({\n      id: \"\",\n      name: \"\",\n      email: \"\",\n      favorites: \"\",\n      joined: \"\",\n    });\n    setRoute(\"signin\");\n  };\n\n  return (\n    <div>\n      {route === \"mealplanner\" || user.id ? (\n        <div>\n          {/* Added a signout option that will change the state to sigin. This means that mealplanner will not be shown */}\n          <div className=\"welcomeboard\">\n            <p className=\"hello\">Hello {user.name}!</p>\n\n            <Link to={`/favorites/${user.id}`}>\n              <button id=\"btn_home\" type=\"button\">\n                {\" \"}\n                Check your Favorite Recipes!\n              </button>\n            </Link>\n            <p onClick={() => onSignout()}>Signout</p>\n          </div>\n          <MealPlanner user={user.id} />\n        </div>\n      ) : route === \"signin\" ? ( // If the route state is \"signin\" it will show only the sign in form. If the route is not signin, that means the user is logged so the mealplanner will be shown\n        <SigninForm\n          updateLoadUser={updateLoadUser}\n          onRouteChange={onRouteChange}\n        />\n      ) : (\n        <RegisterForm\n          updateLoadUser={updateLoadUser}\n          onRouteChange={onRouteChange}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Signin;\n"]},"metadata":{},"sourceType":"module"}